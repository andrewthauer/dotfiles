#!/usr/bin/env bash
#
# description:
#   Runs an asdf command on all installed plugins
#
# usage:
#   asdf-all [command]
#
# example:
#   asdf-all current
#   asdf-all reshim
#   asdf-all plugin-update
#

# The command to use
cmd=$1
if [[ "${cmd}" == "" ]]; then
  echo "Usage: asdf-all [command]"
  exit 0
fi

# Get the list of installed plugins
plugins=($(asdf plugin-list))

# Run the specified command against each plugin
for plugin in "${plugins[@]}"; do
  printf "${plugin} ->"
  asdf ${cmd} "${plugin}"
done
